---
title: 计算1+2+······+n的值
tags: 算法
categories:
- 算法
- 算法设计与分析
cover: https://tva1.sinaimg.cn/large/e6c9d24ely1h01e1k1cg3j20km0g4mxl.jpg


---

# 算法的参数和返回值

## 算法描述

用**C/C++**描述算法的一般格式：

<img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h01e5a9zn6j21dy0qvac4.jpg" style="zoom: 25%;" />

- **函数返回值：**表示算法能否正确执行
- **函数参数：**表示算法的输入和输出

## 算法1

**题目描述：**设计求1+2+3+······+n值的算法

**输入描述：**输入一个整数n

**输出描述：**输出1+2+······+n的计算结果

```c++
#include <iostream>

void fun(int x, int s){
    s = 0;
    for (int i = 1; i <= x; i++) {
        s = s + i;
    }
}
int main() {
    int x, s = 0;
    scanf("%d",&x);
    fun(x,s);
    std::cout << s << std::endl;
    return 0;
}
```

**问题：**输出0，不是我们想要的结果

**处理方法1：**输出型参数s转化为引用类型，函数执行完会将值传给实参

```c++
void fun(int x, int &s){
    s = 0;
    for (int i = 1; i <= x; i++) {
        s = s + i;
    }
}
```

**处理方法2：**用函数返回来表示算法执行的结果(只有一个值返回，所以采用这种方法)

```c++
#include <iostream>

int fun(int x){
    int s = 0;
    for (int i = 1; i <= x; i++) {
        s = s + i;
    }
    return s;
}
int main() {
    int x, s = 0;
    scanf("%d",&x);
    s = fun(x);
    std::cout << s << std::endl;
    return 0;
}
```

**最规范的写法：**

```c++
#include <iostream>

bool fun(int x, int &s){
    if (x <= 0)
        return false;
    else{
        s = 0;
        for (int i = 1; i <= x; i++) {
            s = s + i;
        }
        return true;
    }
}
int main() {
    int x, y, s = 0;
    scanf("%d",&x);
    y = fun(x,s);
    if (y == 0){
        std::cout << "输入错误" << std::endl;
    } else{
        std::cout << s << std::endl;
    }
}
```

## 结论

- 用函数返回值表示算法是否正确执行
- **输出型参数设计为引用型参数**
- 算法只有一个求解结果并且返回值可以区分算法是否正确执行时，可以使用函数返回来表示算法的执行结果

## 算法2

**题目描述：**设计一个交换两个数的算法

**输入描述：**输入两个整数x和y的值

**输出描述：**交换x，y的值，并输出

```c++
#include <iostream>

void swap(int &x, int &y){
    int temp;
    temp = x;
    x = y;
    y = temp;
}
int main() {
    int x, y;
    scanf("%d %d",&x, &y);
    swap(x, y);
    std::cout << x << " " << y << std::endl;
    return 0;
}
```
